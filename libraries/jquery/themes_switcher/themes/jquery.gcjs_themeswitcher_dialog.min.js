(function(a){a.fn.gcjs_themeswitcher_dialog=function(p){a.extend(a.fn.gcjs_themeswitcher_dialog.parameters,p);var q=a.fn.gcjs_themeswitcher_dialog.parameters;var k,e,j,h,n,o,l,d,b,c;var m=q.number_pics;var f=0;var g=(q.number_pics*q.width_piccell)+130;k=document.createElement("table");n=document.createElement("tbody");e=document.createElement("tr");for(i=0;i<a.fn.gcjs_themeswitcher_dialog.css_list.length;i++){f++;l=document.createElement("img");l.setAttribute("src",q.url_gallery+a.fn.gcjs_themeswitcher_dialog.css_list[i].pic);l.setAttribute("style","cursor:pointer");l.height=90;l.width=85;o=document.createElement("a");o.setAttribute("href","#");h='"'+q.url_css+a.fn.gcjs_themeswitcher_dialog.css_list[i].file+'",';if(q.setcookie==true){c='"'+q.cookieDomain+'",'+q.cookieExpiry+',"'+q.cookiePath+'"'}else{c='"",'+q.cookieExpiry+',"'+q.cookiePath+'"'}o.setAttribute("onclick","$.fn.gcjs_themeswitcher_dialog.gcjs_m_loaddynamicalfile("+h+c+")");l.setAttribute("onclick","$.fn.gcjs_themeswitcher_dialog.gcjs_m_loaddynamicalfile("+h+c+")");b=document.createTextNode(a.fn.gcjs_themeswitcher_dialog.css_list[i].theme);o.appendChild(b);j=document.createElement("td");j.appendChild(l);e.appendChild(j);j=document.createElement("td");j.appendChild(o);e.appendChild(j);if((f==m)||((i+1)==a.fn.gcjs_themeswitcher_dialog.css_list.length)){n.appendChild(e);e=null;e=document.createElement("tr");f=0}}k.appendChild(n);a.fn.gcjs_themeswitcher_dialog.switcher=a("<div id='themedialog'></div>").append(k).dialog({modal:a.fn.gcjs_themeswitcher_dialog.parameters.modal,autoOpen:false,buttons:[{id:"theme_close",text:"Close",click:function(){a(this).dialog("close")}}],hide:"fade",show:"fade",closeOnEscape:true,dialogClass:"alert",width:g,height:300,title:a.fn.gcjs_themeswitcher_dialog.parameters.s_title});return this.each(function(){a(this).click(function(){a.fn.gcjs_themeswitcher_dialog.gcjs_m_open_themeswitch_dialog()})})};a.fn.gcjs_themeswitcher_dialog.parameters={version:"1.01",s_title:"Select UI theme",modal:false,url_gallery:"libraries/jquery/themes_switcher/themes/theme_gallery/",url_css:"libraries/jquery/themes_switcher/themes/theme_css/",defaultTheme:"black/theme.php",width_piccell:100,number_pics:6,setcookie:true,cookieExpiry:"365",cookiePath:"/",cookieDomain:"GCJS_THEME"};a.fn.gcjs_themeswitcher_dialog.css_list=[];a.fn.gcjs_themeswitcher_dialog.switcher;a.fn.gcjs_themeswitcher_dialog.gcjs_m_open_themeswitch_dialog=function(){a.fn.gcjs_themeswitcher_dialog.switcher.dialog("open");if(a("#themeimg").length==0){a("#themedialog").parent().find(".ui-dialog-titlebar").prepend('<img id="themeimg" src="images/admin/themes.png" style="height:16px;width:16px;float:left;padding-right:3px" />')}return false};a.fn.gcjs_themeswitcher_dialog.gcjs_m_add_theme=function(b){this.css_list.push(b);return this};a.fn.gcjs_themeswitcher_dialog.gcjs_m_load_initial_css=function(b){b=a.trim(b);if(!b){b=a.cookie(a.fn.gcjs_themeswitcher_dialog.parameters.cookieDomain);if(b){b=decodeURI(b)}}if(!b){b=a.fn.gcjs_themeswitcher_dialog.parameters.url_css+a.fn.gcjs_themeswitcher_dialog.parameters.defaultTheme}var c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",b);if(typeof c!="undefined"){document.getElementsByTagName("head")[0].appendChild(c)}};a.fn.gcjs_themeswitcher_dialog.gcjs_m_loaddynamicalfile=function(c,d,b,f){if(c=="?"){c=a.cookie(d);c=decodeURI(c)}var e=document.createElement("link");e.setAttribute("rel","stylesheet");e.setAttribute("type","text/css");e.setAttribute("href",c);if(typeof e!="undefined"){document.getElementsByTagName("head")[0].appendChild(e);if(d!=""){c=encodeURI(c);a.cookie(d,c,{expires:b,path:f})}}}})(jQuery);